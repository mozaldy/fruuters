import{_ as m,u as _,i as p,h as f,q as h,s as y,x as g,r as b,o as n,c as u,a as v,b as t,k as i,v as c,y as P,F as k,f as V,t as l,j as D,z as U}from"./index-JvvnL4EA.js";import{H as x}from"./Hero-h08UsgIP.js";const I={components:{Hero:x},data(){return{title:"",description:"",discount:0,price:0,img_url:"",produced_in:"",production_capacity:0,product_stock:0,selectedProducers:[],producers:[],success:!1,editMode:!1,productId:null}},async created(){const r=_();r.params.productId&&(this.editMode=!0,this.productId=r.params.productId,await this.fetchProductData()),await this.fetchProducers()},methods:{async fetchProductData(){try{const o=(await h(f(p,"products",this.productId))).data();this.title=o.title,this.description=o.description,this.discount=o.discount,this.price=o.price,this.img_url=o.img_url,this.produced_in=o.produced_in,this.product_stock=o.product_stock,this.production_capacity=o.production_capacity,this.selectedProducers=o.producers.map(d=>d.id)}catch(r){console.error("Error fetching product data:",r)}},async fetchProducers(){const r=y(p,"producers"),o=await g(r);this.producers=o.docs.map(d=>({id:d.id,name:d.data().name,location:d.data().location}))}}},M={class:"form-group mt-3"},S=t("label",{for:"title"},"Title:",-1),w={class:"form-group mt-3"},C=t("label",{for:"description"},"Description:",-1),H={class:"form-group mt-3"},B=t("label",{for:"discount"},"Discount:",-1),E={class:"form-group mt-3"},N=t("label",{for:"price"},"Price:",-1),A={class:"form-group mt-3"},F=t("label",{for:"img_url"},"Image URL:",-1),L={class:"form-group mt-3"},R=t("label",{for:"produced_in"},"Produced In:",-1),T={class:"form-group mt-3"},j=t("label",{for:"production_capacity"},"Production Capacity:",-1),q={class:"form-group mt-3"},z=t("label",{for:"production_capacity"},"Stock:",-1),G={class:"form-group mt-3"},J=t("label",{for:"producers"},"Producers:",-1),K=["value"],O={key:0,class:"alert alert-success"},Q={type:"submit",class:"mt-5 btn btn-primary"};function W(r,o,d,X,s,Y){const a=b("Hero");return n(),u("div",null,[v(a,{text1:s.editMode?"Edit Product":"Add Product"},null,8,["text1"]),t("form",{class:"container",onSubmit:o[9]||(o[9]=U((...e)=>r.addProduct&&r.addProduct(...e),["prevent"]))},[t("div",M,[S,i(t("input",{type:"text",id:"title",name:"title",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=e=>s.title=e)},null,512),[[c,s.title]])]),t("div",w,[C,i(t("textarea",{id:"description",name:"description",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=e=>s.description=e)},null,512),[[c,s.description]])]),t("div",H,[B,i(t("input",{type:"number",id:"discount",name:"discount",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=e=>s.discount=e)},null,512),[[c,s.discount]])]),t("div",E,[N,i(t("input",{type:"number",id:"price",name:"price",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=e=>s.price=e)},null,512),[[c,s.price]])]),t("div",A,[F,i(t("input",{type:"text",id:"img_url",name:"img_url",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=e=>s.img_url=e)},null,512),[[c,s.img_url]])]),t("div",L,[R,i(t("input",{type:"text",id:"produced_in",name:"produced_in",class:"form-control","onUpdate:modelValue":o[5]||(o[5]=e=>s.produced_in=e)},null,512),[[c,s.produced_in]])]),t("div",T,[j,i(t("input",{type:"number",id:"production_capacity",name:"production_capacity",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=e=>s.production_capacity=e)},null,512),[[c,s.production_capacity]])]),t("div",q,[z,i(t("input",{type:"number",id:"product_stock",name:"product_stock",class:"form-control","onUpdate:modelValue":o[7]||(o[7]=e=>s.product_stock=e)},null,512),[[c,s.product_stock]])]),t("div",G,[J,i(t("select",{id:"producers",name:"producers",class:"form-control","onUpdate:modelValue":o[8]||(o[8]=e=>s.selectedProducers=e),multiple:""},[(n(!0),u(k,null,V(s.producers,e=>(n(),u("option",{key:e.id,value:e.id},l(e.name)+" - "+l(e.location),9,K))),128))],512),[[P,s.selectedProducers]])]),s.success?(n(),u("div",O,"Successfully added "+l(s.title),1)):D("",!0),t("button",Q,l(s.editMode?"Update Product":"Add Product"),1)],32)])}const oo=m(I,[["render",W]]);export{oo as default};
